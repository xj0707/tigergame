<div class="page-content">
    <!-- <div class="col-sm-6 pull-right">
       <span class="btn btn-sm btn-primary pull-right" onclick="javascript:window.location.href = 'adduser'">
           添加玩家
           <i class="icon-reply icon-only"></i>
       </span>
   </div> -->
    <div class="page-header">
        <h1 >
            <!-- {:model('menu')->getName()} {gt name="$Request.get.group_id" value="0"} [{:model('AdminGroup')->getGroupName($Request.get.group_id)}]{/gt}
        	 <small>
                <i class="ace-icon fa fa-angle-double-right"></i> -->
            总输赢报表
            <!--    </small>-->
        </h1>
    </div><!-- /.page-header -->


    <div class="row">
        {switch name="$role"}
        {case value="1|3"}
        <div class="col-lg-2">
            <div>
                <span>线路商查询:</span>
                <select class="form-control" style="display: inline-block;width: 60%;" onchange="getList(this)">
                    <option value='-1' >请选择</option>
                    {volist name="data1" id="vo"}
                    <option id="xl{$vo[id]}" value='{$vo[id]}' >{$vo.nickname}</option>
                    {/volist}
                </select>
            </div>
        </div>
        <div class="col-lg-2">
            <div>
                <span>商户查询:</span>
                <select class="form-control" style="display: inline-block;width: 60%;" onchange="getList1(this)">
                    <option value='-1' >请选择</option>
                    {volist name="data2" id="vo"}
                    <option id="sh{$vo[id]}" value='{$vo[id]}' >{$vo.nickname}</option>
                    {/volist}
                </select>
            </div>
        </div>
        {/case}
        {case value="2|4"}
        <div class="col-lg-2">
            <div>
                <span>代理查询:</span>
                <select class="form-control" style="display: inline-block;width: 60%;" onchange="getList2(this)">
                    <option value='-1' >请选择</option>
                    {volist name="data1" id="vo"}
                    <option id="dl{$vo[id]}" value='{$vo[id]}' >{$vo.nickname}</option>
                    {/volist}
                </select>
            </div>
        </div>
        {/case}
        {case value="6"}
        <div class="col-lg-2">
            <div>
                <span>线路商查询:</span>
                <select class="form-control" style="display: inline-block;width: 60%;" onchange="getList(this)">
                    <option value='-1' >请选择</option>
                    {volist name="data1" id="vo"}
                    <option id="xl{$vo[id]}1" value='{$vo[id]}' >{$vo.nickname}</option>
                    {/volist}
                </select>
            </div>
        </div>
        <div class="col-lg-2">
            <div>
                <span>商户查询:</span>
                <select class="form-control" style="display: inline-block;width: 60%;" onchange="getList1(this)">
                    <option value='-1' >请选择</option>
                    {volist name="data2" id="vo"}
                    <option id="sh{$vo[id]}1" value='{$vo[id]}' >{$vo.nickname}</option>
                    {/volist}
                </select>
            </div>
        </div>
        <div class="col-lg-2">
            <div>
                <span>代理查询:</span>
                <select class="form-control" style="display: inline-block;width: 60%;" onchange="getList2(this)">
                    <option value='-1' >请选择</option>
                    {volist name="data3" id="vo"}
                    <option id="dl{$vo[id]}1" value='{$vo[id]}' >{$vo.nickname}</option>
                    {/volist}
                </select>
            </div>
        </div>
        {/case}
        {/switch}
        <form action="{:url('likeusername')}" method="post" name="myfrom2">
            <div class="col-lg-2">
                <div class="input-group " style="margin-bottom: 10px;">
                    <input style="height: 42px;" type="text" class="form-control" name='username'  placeholder="请输入玩家账户">
                    <span class="input-group-btn">
	                        <button class="btn btn-default" type="button" id='but2'>搜一搜</button>
	                    </span>
                </div>
            </div>
        </form>
    </div>




    <div class="row">
        <div class="col-xs-12">
            <!-- PAGE CONTENT BEGINS -->
            <div class="row">
                <div class="col-xs-12">
                    <table id="simple-table" class="table  table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>商户/代理</th>
                            <th class="hidden-480">玩家账户</th>
                            <th class="hidden-480">昵称</th>
                            <th class="hidden-480">投注次数</th>
                            <th class="hidden-480">输赢金额</th>
                            <th class="hidden-480">有效投注</th>
                            <th class="hidden-480">洗码比</th>
                            <th class="hidden-480">返水</th>
                            <th class="hidden-480">代理总金额</th>
                            <th class="hidden-480">代理占成</th>
                            <th class="hidden-480">代理交公司</th>
                            <th class="hidden-480">额度出入记录</th>
                        </tr>
                        </thead>
                        <tbody>
                        {volist name="players" id="vo"}
                        <tr>
                            <td>{$vo.un}</td>
                            <td class="hidden-480">{$vo.username}</td>
                            <td class="hidden-480">{$vo.nickname}</td>
                            <td class="hidden-480">{$vo.betCount}</td>
                            <td class="hidden-480">{$vo.winlose}</td>
                            <td class="hidden-480">{$vo.totalBet}</td>
                            <td class="hidden-480">{$vo.wcr}</td>
                            <td class="hidden-480">{$vo.ret}</td>
                            <td class="hidden-480">{$vo.agentBalance}</td>
                            <td class="hidden-480">{$vo.agentRate}</td>
                            <td class="hidden-480">{$vo.giveback}</td>
                            <td class="hidden-480"><a href='{:url("details","gid=$vo[gameUserId]")}'>{$vo.balance}</a></td>
                        </tr>
                        {/volist}
                        </tbody>
                    </table>
                    {$players->render()}
                </div><!-- /.span -->
            </div><!-- /.row -->

            <!-- PAGE CONTENT ENDS -->
        </div><!-- /.col -->
    </div><!-- /.row -->
</div><!-- /.page-content -->

<script src="__ROOT__/static/ace1.4/assets/js/jquery-2.1.4.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var storage=window.localStorage;
        if(storage){
            if(storage.optionIdxl){
                var mid=storage.optionIdxl;
                $("#xl"+mid).attr('selected',true);
                $("#xl"+mid+"1").attr('selected',true);
            }else if(storage.optionIdsh){
                var mid=storage.optionIdsh;
                $("#sh"+mid).attr('selected',true);
                $("#sh"+mid+"1").attr('selected',true);
            }else if(storage.optionIddl){
                var mid=storage.optionIddl;
                $("#dl"+mid).attr('selected',true);
                $("#dl"+mid+"1").attr('selected',true);
            }

        }
    });
    function getList(obj) {
        var mid=obj.value;
        var storage=window.localStorage;
        storage['optionIdsh'] = ""
        storage['optionIddl'] = ""
        storage["optionIdxl"]=mid;
        window.location.href='xl?id='+mid;
        //console.log(obj.value)
    }
    function getList1(obj) {
        var mid=obj.value;
        var storage=window.localStorage;
        storage['optionIdxl'] = ""
        storage['optionIddl'] = ""
        storage["optionIdsh"]=mid;
        window.location.href='sh?id='+mid;
        //console.log(obj.value)
    }
    function getList2(obj) {
        var mid=obj.value;
        var storage=window.localStorage;
        storage["optionIddl"]=mid;
        storage['optionIdsh'] = ""
        storage['optionIdxl'] = ""
        window.location.href='dl?id='+mid;
        //console.log(obj.value)
    }

    $("#but").click(function(){
        if($("input[name='un32UserID']").val()==''){
            alert('uid不能为空');
            $("input[name='un32UserID']").focus();
        }else{
            document.myfrom.submit();
        }
    });
    $("#but1").click(function(){
        if($("input[name='szNickName']").val()==''){
            alert('昵称不能为空');
            $("input[name='szNickName']").focus();
        }else{
            document.myfrom1.submit();
        }
    });
    $("#but2").click(function(){
        if($("input[name='username']").val()==''){
            alert('玩家账户不能为空');
            $("input[name='username']").focus();
        }else{
            document.myfrom2.submit();
        }
    });

</script>

